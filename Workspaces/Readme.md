# Terraform Workspaces

Let say we work in a company where EC2 instances and an s3 bucket are commonly used resources. That means in future, there can be a team called A or X. And these teams again might come to the DevOps team or they might again end up creating JIRA tickets to the DevOps team asking for the same resources. So, because you are mastering TerraForm what you do is instead of writing a TerraForm project that is just used by the A team, you wrote a TerraForm module (modular approach so that our terraform templates become reusable). That means you are not just solving the problem for A team, but you are also solving the problem the future problem of all other XYZ teams.

Now let say the team used this infra for Prod environment but they have Stage, Dev and Test environments as well and they want let say different EC2 instance types for these environments. Let say for Prod they needed t2.micro but for Test or Staging, they want t2.medium. Now do we need need to create main.tf file and tfvars file separately for Test environment? And what if they're having 100 environments so we need to  create 100 of those files? 
- Now let say what we did is, we created separate tfvars file for every environment (like dev.tfvars, test.tfvars) and only one main.tf file. But the problem is only one terraform statefile will be created and whenever we execute main.tf and dev.tfvars, it will create environment for Dev and will get recorded in statefile and if now we created for Prod, everything will be overriden in the Statefile.

## Solution-- Teeraform Workspaces (It will create a statefile per environment) 
A folder is created called terraform-state-d. And inside that, there will be a folder for each environment. There will be a folder for stage and there will be a folder for Dev depending upon how many environments you create, or how many workspaces you create. If you create 100 workspaces within the same folder, within the same project, you will have folders for each element. Inside the folder you will have a state file so that when you are in the dev workspace, this particular state file is updated when you are in the staging will face this particular statement is updated.
